console.log("@treedbox");
navigator.serviceWorker.register("sw.min.js").then(function(a){console.log("SW registered:",a);a.installing?console.log("Service worker installing"):a.waiting?console.log("Service worker installed"):a.active&&console.log("Service worker active");a.addEventListener("updatefound",function(){var b=a.installing;console.log("newWorker.state:",b.state);b.addEventListener("statechange",function(a){console.log("NewWorker.state has changed:",a)})})})["catch"](function(a){return console.log("SW registration FAILED:",a)});
navigator.serviceWorker.addEventListener("controllerchange",function(){messageInfo();console.log("TESTE")});var networkDataReceived=!1,showErrorMessage=function(){console.log("No Cache data --\x3e Go to the network")};console.log("LOAD Start");var networkUpdate=fetch("/").then(function(a){return a}).then(function(a){console.log("data:",a);networkDataReceived=!0});
caches.match("/").then(function(a){if(!a)throw Error("No data");return a}).then(function(a){networkDataReceived||console.log("!networkDataReceived data:",a)})["catch"](function(){return networkUpdate})["catch"](showErrorMessage).then(console.log("LOAD Finished"));
var message=document.querySelector(".message"),messageP=document.querySelector(".message p"),hideEl=function(a){message.classList.remove("warning");message.classList.remove("info");message.classList.remove("success");message.classList.remove("error");message.classList.remove("out");showMessage()},closeMessage=function(a){message.classList.add("out");message.addEventListener("animationend",hideEl)},showMessage=function(a,b){message.classList.add(a);messageP.textContent=b;document.querySelectorAll(".message button.close").forEach(function(a){a.addEventListener("click",
closeMessage)})};setTimeout(showMessage("warning","Lorem ipsum Joni sit amet"),3E3);showMessage("warning","Lorem ipsum Joni sit amet");console.log("navigator.serviceWorker.controller:",navigator.serviceWorker.controller);
